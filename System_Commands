=========================================================================
Ubuntu Package and System Manipulation Commands:
=========================================================================

-------------------------------------------------------------------------
Re-Sync Time and Date:
-------------------------------------------------------------------------
sudo date -s "$(wget -qSO- --max-redirect=0 google.com 2>&1 | grep Date: | cut -d' ' -f5-8)Z"
sudo dpkg-reconfigure tzdata

-------------------------------------------------------------------------
View CPU information:
-------------------------------------------------------------------------
$ cat /proc/cpuinfo

-------------------------------------------------------------------------
View free memory:
-------------------------------------------------------------------------
$ free -h
$ df -h

-------------------------------------------------------------------------
View which folders are taking up the most space:
-------------------------------------------------------------------------
$ sudo du -xh / | grep -P "G\t"

-------------------------------------------------------------------------
Restore Ubuntu Desktop (due to python3.5):
-------------------------------------------------------------------------
Ctrl+Alt+F1
$ sudo apt-get install python3-all
$ sudo apt-get install gnome-terminal
$ sudo apt-get install --reinstall ubuntu-desktop

-------------------------------------------------------------------------
To Restart Unity Panel Bar:
-------------------------------------------------------------------------
You can press ALT+F2 -> Run Command: “unity”

OR you could use:
$ sudo service gdm restart

-------------------------------------------------------------------------
List all installed packages:
-------------------------------------------------------------------------
$ apt list --installed
$ dpkg -l
$ dpkg --get-selections | grep -v deinstall

Search for specific package:
apt-cache search package-name

-------------------------------------------------------------------------
Find all files with keyword:
-------------------------------------------------------------------------
$ find / -name "filename*"

-------------------------------------------------------------------------
Find all files with 'png' extension:
-------------------------------------------------------------------------
$ ls -R | grep '\.png$'						<- list just there names
$ find . -type f -regex ".*\.png" -ls 		<- list each files details

-------------------------------------------------------------------------
Not mounting the SD Card:
-------------------------------------------------------------------------
lspci

-> Check Read/Write Access:
find /sys -iname \*mmc\* | sed 's#$#/uevent#' | xargs ls -l

-> Give all the mmc uevent files the same access:
find /sys -iname \*mmc\* | sed 's#$#/uevent#' | xargs sudo chmod a+r

-------------------------------------------------------------------------
Corrupt USB / SD Card:
-------------------------------------------------------------------------
List the connected devices
$ sudo parted -l
OR
$ df -h 					--> The disk you want to check should not be listed
$ sudo fdisk -l

make sure it's unmounted:
$ umount /dev/sdb			--> mmcblk0

Check for Errors:
$ sudo fsck -A /dev/sdb

Write all zeros till the end:
$ sudo dd if=/dev/zero of=/dev/sdb bs=4M			<-- USB
$ sudo dd if=/dev/zero of=/dev/sdb bs=4096 count=1	<-- SD card 

To Confirm zero write:
dd if=/dev/sda | hexdump -C | head

Then GParted -> Device -> Create Partition Table

-------------------------------------------------------------------------
Memory Checks:
-------------------------------------------------------------------------
-> lsusb	- List USB devices (and hardware)
			- Check used/available system memory
-> lspci | grep USB

-------------------------------------------------------------------------
Possible USB Hub Reset:
-------------------------------------------------------------------------
-> sudo su
-> echo -n "0000:00:1a.0" | tee /sys/bus/pci/drivers/ehci-pci/unbind
-> echo -n "0000:00:1d.0" | tee /sys/bus/pci/drivers/ehci-pci/unbind
-> echo -n "0000:00:1a.0" | tee /sys/bus/pci/drivers/ehci-pci/bind
-> echo -n "0000:00:1d.0" | tee /sys/bus/pci/drivers/ehci-pci/bind

-------------------------------------------------------------------------
Force erase a USB:
-------------------------------------------------------------------------
wipefs -a /dev/your-device

-------------------------------------------------------------------------
Network Checks:
-------------------------------------------------------------------------
-> ifconfig

-------------------------------------------------------------------------
Link 2 images (imagemagic):
-------------------------------------------------------------------------
Horizontally:
convert file1.png file2.png +append out.png 

Vertically:
convert file1.png file2.png -append out.png 

=========================================================================
			PACKAGES:
=========================================================================
-------------------------------------------------------------------------
List all installed packages:
-------------------------------------------------------------------------
-> dpkg --list
-> dpkg -l | less

To get a list of packages installed locally do this in your terminal:
-> dpkg --get-selections | grep -v deinstall

(The -v tag "inverts" grep to return non-matching lines)

To get a list of a specific package installed:
-> dpkg --get-selections | grep postgres

To save that list to a text file called packages on your desktop do this in your terminal:
-> dpkg --get-selections | grep -v deinstall > ~/Desktop/packages

Alternatively, simply use
-> dpkg -l

The apt tool on Ubuntu 14.04 and above makes this very easy.
-> apt list --installed

============================================
Virtual Environment:
============================================
Get and Install:

$ sudo pip install virtualenv virtualenvwrapper
$ sudo rm -rf ~/get-pip.py ~/.cache/pip

$ echo -e "\n# virtualenv and virtualenvwrapper" >> ~/.profile
$ echo "export WORKON_HOME=$HOME/.virtualenvs" >> ~/.profile
$ echo "export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3" >> ~/.profile
$ echo "source /usr/local/bin/virtualenvwrapper.sh" >> ~/.profile
	
$ source ~/.profile

--------------------------------------------
Virtual Environment Commands:
--------------------------------------------
List all VirtEnvs:
$ lsvirtualenv -b

Create new env:
$ mkvirtualenv EnvName -p python3

To Activate:
$ workon cv

Exit:
$ deactivate

Delete:
rmvirtualenv EnvName

--------------------------------------------
View which version is installed:
--------------------------------------------
-> 'application' --version	[eg. python --version]

--------------------------------------------
Permissions:
--------------------------------------------
$ chmod 777 *.py		- all permissions aloud for all python files
$ chmod 700 file.ext	- read/write/execute for me only

=========================================================================
			CLEANUP:
=========================================================================
sudo apt-get autoclean
sudo apt-get clean
sudo apt-get autoremove

sudo apt-get install gtkorphan
Use gtkOrphan by going to System--->Administraion--->Remove orphaned packages

--------------------------------------------
Clear the '/tmp' folder:
--------------------------------------------
$ sudo apt-get autoremove
$ sudo rm -rf /tmp/*

-------------------------------------
Remove all files containing the name:
-------------------------------------
find /path -type f -name "filename" -delete

--------------------------------------------
Remove Item from $PATH:
--------------------------------------------
-> PATH=$(REMOVE_PART="/opt/specific_item/bin" sh -c 'echo ":$PATH:" | sed "s@:$REMOVE_PART:@:@g;s@^:\(.*\):\$@\1@"')


=========================================================================

